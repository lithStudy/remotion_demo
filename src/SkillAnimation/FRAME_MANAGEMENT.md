# 帧数管理系统说明

## 概述

所有场景的帧数通过变量累积方式管理，调整前置动画时长时，后续动画的帧数起点会自动更新，无需手动修改。

## 使用方法

### 调整场景时长

只需修改 `SkillAnimation.tsx` 中的 `SCENE_DURATIONS` 常量：

```typescript
const SCENE_DURATIONS = {
  FILE_SYSTEM: 90,      // 场景1: 文件系统扫描 (3秒)
  FILE_READ: 90,        // 场景2: 文件读取 (3秒)
  PARSING: 90,          // 场景3: 解析 (3秒)
  PROMPT_UPDATE: 120,   // 场景4: 提示词更新 (4秒)
  EFFECT: 90,           // 场景5: 效果展示 (3秒)
} as const;
```

例如，如果要将场景1的时长从90帧改为120帧：

```typescript
const SCENE_DURATIONS = {
  FILE_SYSTEM: 120,     // 改为120帧 (4秒)
  FILE_READ: 90,        // 保持不变
  // ... 其他场景
};
```

场景2的起始帧会自动从90变为120，无需手动修改。

### 工作原理

1. **场景时长定义**：`SCENE_DURATIONS` 定义每个场景的时长
2. **起始帧计算**：`SCENE_STARTS` 通过累积方式自动计算每个场景的起始帧
3. **总时长计算**：`TOTAL_DURATION` 自动计算总时长并导出，供 `Root.tsx` 使用

### 场景内部帧数

场景组件内部的动画使用相对帧数（从0开始），因为 `Sequence` 组件会自动处理帧数偏移。场景内部的 `useCurrentFrame()` 返回的是相对于场景起始帧的帧数。

例如，在 `FileReadScene` 中：
- 场景从第90帧开始
- 场景内部的 `frame = 0` 对应全局第90帧
- 场景内部的 `frame = 30` 对应全局第120帧

### 导出常量

- `TOTAL_DURATION`: 总帧数，自动计算并导出，供 `Root.tsx` 使用

## 优势

1. **易于调整**：只需修改一个常量，所有相关帧数自动更新
2. **避免错误**：不会出现帧数不同步的问题
3. **代码清晰**：所有帧数配置集中在一个地方
4. **自动计算**：起始帧和总时长自动计算，无需手动维护
